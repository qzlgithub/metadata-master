<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
    <title>管理后台</title>
    <link rel="stylesheet" href="../../static/plugins/layui/css/layui.css" media="all"/>
    <link rel="stylesheet" type="text/css" href="http://www.jq22.com/jquery/font-awesome.4.6.0.css"/>
    <link rel="stylesheet" href="../../static/build/css/app.css" media="all"/>
    <link rel="stylesheet" href="../../static/css/style.css" media="all"/>
    <link rel="stylesheet" href="../../static/css/base.css" media="all"/>
    <link rel="stylesheet" href="../../static/css/common.css" media="all"/>
    <link rel="stylesheet" th:href="@{/kindeditor/themes/default/default.css}"/>
    <link rel="stylesheet" th:href="@{/kindeditor/plugins/code/prettify.css}"/>
    <script charset="utf-8" th:src="@{/kindeditor/kindeditor-all-min.js}"></script>
    <script charset="utf-8" th:src="@{/kindeditor/lang/zh-CN.js}"></script>
    <script charset="utf-8" th:src="@{/kindeditor/plugins/code/prettify.js}"></script>
</head>

<body>
<div class="layui-layout layui-layout-admin kit-layout-admin">
    <div th:include="common :: top"></div>

    <div class="layui-side layui-bg-black kit-side" th:include="product::top"></div>

    <div class="layui-body">
        <!-- 内容主体区域 -->
        <!--面包屑-->
        <div class="layui-breadcrumb breadcrumb-bg" style="visibility: visible;">
            <a href="/product/index.html">产品管理<span class="layui-box">&gt;</span></a>
            <a href="/product/index.html">产品管理<span class="layui-box">&gt;</span></a>
            <a><cite>产品添加</cite></a>
        </div>
        <!--面包屑 end-->
        <div class="p20">
            <div class="w60 m30">
                <div class="layui-form-item">
                    <label class="layui-form-label"><i class="col3">*</i>产品类别：</label>
                    <div class="layui-input-block w40">
                        <select id="product-type" class="select-list">
                            <option th:each="o : ${productTypeDict}" th:value="${o.id}" th:text="${o.name}"></option>
                        </select>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label"><i class="col3">*</i>产品编号：</label>
                    <div class="layui-input-block w40">
                        <input type="text" id="product-code" onblur="checkProdNo();" placeholder="请输入"
                               autocomplete="off" class="layui-input"/>
                        <i class="col3 pl10" id="prodNoTip" style="display: none"></i>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label"><i class="col3">*</i>产品名称：</label>
                    <div class="layui-input-block w40">
                        <input type="text" id="product-name" onblur="checkProdName();" placeholder="请输入"
                               autocomplete="off" class="layui-input"/>
                        <i class="col3 pl10" id="prodNameTip" style="display: none"></i>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label"><i class="col3">*</i>成本价格：</label>
                    <div class="layui-input-block w40">
                        <input type="text" onblur="checkCostAmt();" id="product-cost" placeholder="请输入"
                               autocomplete="off" class="layui-input" style="width: 50%; display: inline-block;"/>
                        <i class="col3">元</i>
                        <i class="col3 pl10" id="costAmtTip" style="display: none"></i>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label"><i class="col3">*</i>是否关闭：</label>
                    <div class="layui-input-block layui-form">
                        <input type="radio" name="product-enabled" value="1" title="开启" checked="checked"/>
                        <div class="layui-unselect layui-form-radio layui-form-radioed">
                            <i class="layui-anim layui-icon layui-anim-scaleSpring"></i><span>开启</span></div>
                        <input type="radio" name="product-enabled" value="0" title="关闭"/>
                        <div class="layui-unselect layui-form-radio">
                            <i class="layui-anim layui-icon"></i><span>关闭</span>
                        </div>
                    </div>
                </div>
                <div class="layui-form-item layui-form-text">
                    <label class="layui-form-label">产品介绍：</label>
                    <div class="layui-input-block">
                        <textarea id="product-txt" title="产品介绍" cols="100" rows="8"
                                  style="width:700px;height:200px;visibility:hidden;"></textarea>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">备注：</label>
                    <div class="layui-input-block w40">
                        <textarea id="product-remark" th:text="${name}" placeholder="请输入内容"
                                  class="layui-textarea"></textarea>
                    </div>
                </div>
            </div>
            <div class="layui-form-item mt40">
                <div class="layui-input-block">
                    <button class="layui-btn" onclick="addProduct()">保存</button>
                </div>
            </div>
        </div>
    </div>
    <div class="layui-footer" th:include="common :: copyright"></div>
</div>

<!--修改密码  提示层-->
<div id="editpwd-manage" class="modal" th:include="resetPoint :: point"></div>

<script type="text/javascript">
    var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(unescape("%3Cspan id='cnzz_stat_icon_1264021086'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s22.cnzz.com/z_stat.php%3Fid%3D1264021086%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
</script>
<script src="../../static/plugins/layui/layui.js"></script>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script type="text/javascript" th:src="@{/js/md5.js}"></script>
<script type="text/javascript" th:src="@{/js/password.js}"></script>
<script type="text/javascript" th:src="@{/js/product.add.js}"></script>
<script>
    var editor;
    KindEditor.ready(function(K) {
        editor = K.create('#product-txt', {
            minWidth: 800,
            minHeight: 350,
            items: ['source', 'fullscreen', 'preview', 'print', '|', 'undo', 'redo', '|',
                'justifyleft', 'justifycenter', 'justifyright', 'justifyfull', '|',
                'insertorderedlist', 'insertunorderedlist', 'indent', 'outdent', 'lineheight', '|',
                'formatblock', 'fontname', 'fontsize', '|',
                'forecolor', 'hilitecolor', 'bold', 'italic', 'underline', 'strikethrough', '|',
                'image', 'table', 'hr', 'emoticons', 'link'],
            uploadJson: '../jsp/upload_json.jsp',
            fileManagerJson: '../jsp/file_manager_json.jsp',
            allowFileManager: true,
            afterCreate: function() {
                var self = this;
                K.ctrl(document, 13, function() {
                    self.sync();
                    document.forms['example'].submit();
                });
                K.ctrl(self.edit.doc, 13, function() {
                    self.sync();
                    document.forms['example'].submit();
                });
            }
        });
        prettyPrint();
    });

    var message;
    layui.config({
        base: '../../static/build/js/'
    }).use(['app', 'message'], function() {
        var app = layui.app,
            $ = layui.jquery,
            layer = layui.layer;
        //将message设置为全局以便子页面调用
        message = layui.message;
        //主入口
        app.set({
            type: 'iframe'
        }).init();
        $('#pay').on('click', function() {
            layer.open({
                title: false,
                type: 1,
                content: '<img src="../../static/build/images/pay.png" />',
                area: ['500px', '250px'],
                shadeClose: true
            });
        });
    });
</script>
</body>
</html>